<div class="p-6 bg-gray-50 min-h-screen">

  <!-- HEADER -->
  <div class="mb-6">
    <h2 class="text-xl font-semibold text-gray-800">
      Upgrade Student Batch
    </h2>
    <p class="text-sm text-gray-500">
      Add a new batch for a student (old batch data will remain)
    </p>
  </div>

  <!-- BATCH SELECT -->
  <div class="bg-white rounded-xl shadow p-5 mb-6">
    <label class="text-sm font-medium text-gray-600 mb-2 block">
      Select New Batch
    </label>

    <select
      class="form-input w-full"
      [(ngModel)]="selectedBatchCode"
    >
      <option value="" disabled>Select Batch</option>
      <option *ngFor="let b of batchList" [value]="b.batch_code">
        {{ b.batch_name }}
      </option>
    </select>
  </div>

  <!-- STUDENT LIST -->
  <div class="bg-white rounded-xl shadow p-5">

    <h3 class="text-sm font-semibold text-gray-700 mb-4">
      Select One Student
    </h3>

    <div *ngIf="studentList.length > 0; else noStudents">

      <table class="w-full text-sm">
        <thead class="bg-gray-100 text-gray-600">
          <tr>
            <th class="px-4 py-2 w-10"></th>
            <th class="px-4 py-2">Name</th>
            <th class="px-4 py-2">Email</th>
            <th class="px-4 py-2">Phone</th>
          </tr>
        </thead>

        <tbody class="divide-y">
          <tr
            *ngFor="let s of studentList"
            class="hover:bg-gray-50"
          >
            <td class="px-4 py-2">
              <input
                type="radio"
                name="student"
                [checked]="isSelected(s.stu_ref_code)"
                (change)="selectStudent(s.stu_ref_code)"
              />
            </td>

            <td class="px-4 py-2 font-medium">
              {{ s.first_name }} {{ s.last_name }}
            </td>

            <td class="px-4 py-2">{{ s.email }}</td>
            <td class="px-4 py-2">{{ s.phone_no }}</td>
          </tr>
        </tbody>
      </table>

      <!-- ACTION -->
      <div class="flex justify-end mt-6">
        <button
          class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg"
          [disabled]="loading"
          (click)="upgradeBatch()"
        >
          {{ loading ? 'Upgrading...' : 'Upgrade Batch' }}
        </button>
      </div>

    </div>

    <ng-template #noStudents>
      <div class="text-center py-10 text-gray-500">
        No students found.
      </div>
    </ng-template>

  </div>
</div>
