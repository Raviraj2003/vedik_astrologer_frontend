<div style="min-height:100vh;background:#f3f4f6;padding:16px">

  <div style="
    max-width:900px;
    margin:auto;
    background:#ffffff;
    border-radius:14px;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
    padding:20px
  ">

    <!-- HEADER -->
    <div style="margin-bottom:20px">
      <h2 style="font-size:22px;font-weight:600;color:#111827">
        Class Schedule
      </h2>
      <p style="color:#6b7280;font-size:14px">
        Create batch-wise class schedules
      </p>
    </div>

    <!-- BASIC INFO -->
    <div style="
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:14px;
      margin-bottom:20px
    ">

      <!-- CLASS NAME -->
      <div>
        <label style="font-size:13px;font-weight:500;color:#374151">Class Name</label>
        <input
          type="text"
          [(ngModel)]="form.class_name"
          placeholder="Vedic Astrology Class"
          style="width:100%;padding:10px;border-radius:8px;border:1px solid #d1d5db"
        />
      </div>

      <!-- BATCH -->
      <div>
        <label style="font-size:13px;font-weight:500;color:#374151">Batch</label>
        <select
          [(ngModel)]="form.batch_code"
          style="width:100%;padding:10px;border-radius:8px;border:1px solid #d1d5db"
        >
          <option value="" disabled>Select Batch</option>
          <option *ngFor="let batch of batchList" [value]="batch.batch_code">
            {{ batch.batch_name }}
          </option>
        </select>
      </div>

      <!-- TOPIC -->
      <div>
        <label style="font-size:13px;font-weight:500;color:#374151">Topic</label>
        <input
          type="text"
          [(ngModel)]="form.topic"
          placeholder="Introduction to Kundali"
          style="width:100%;padding:10px;border-radius:8px;border:1px solid #d1d5db"
        />
      </div>

    </div>

    <!-- DATES -->
    <div style="
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:14px;
      margin-bottom:20px
    ">
      <div>
        <label style="font-size:13px;font-weight:500;color:#374151">From Date</label>
        <input
          type="date"
          [(ngModel)]="form.from_date"
          style="width:100%;padding:10px;border-radius:8px;border:1px solid #d1d5db"
        />
      </div>

      <div>
        <label style="font-size:13px;font-weight:500;color:#374151">To Date</label>
        <input
          type="date"
          [(ngModel)]="form.to_date"
          style="width:100%;padding:10px;border-radius:8px;border:1px solid #d1d5db"
        />
      </div>
    </div>

    <!-- SCHEDULES -->
    <h3 style="font-size:16px;font-weight:600;margin-bottom:10px;color:#111827">
      Weekly Schedules
    </h3>

    <div
      *ngFor="let sch of form.schedules; let i = index"
      style="
        border:1px solid #e5e7eb;
        border-radius:10px;
        padding:14px;
        margin-bottom:12px
      "
    >

      <div style="
        display:grid;
        grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
        gap:12px
      ">

        <!-- DAY -->
        <div>
          <label style="font-size:12px;color:#374151">Day</label>
          <select
            [(ngModel)]="sch.day_name"
            style="width:100%;padding:8px;border-radius:8px;border:1px solid #d1d5db"
          >
            <option value="">Select</option>
            <option *ngFor="let d of days">{{ d }}</option>
          </select>
        </div>

        <!-- START -->
        <div>
          <label style="font-size:12px;color:#374151">Start Time</label>
          <input
            type="time"
            [(ngModel)]="sch.start_time"
            style="width:100%;padding:8px;border-radius:8px;border:1px solid #d1d5db"
          />
        </div>

        <!-- END -->
        <div>
          <label style="font-size:12px;color:#374151">End Time</label>
          <input
            type="time"
            [(ngModel)]="sch.end_time"
            style="width:100%;padding:8px;border-radius:8px;border:1px solid #d1d5db"
          />
        </div>

        <!-- INTERVAL -->
        <div>
          <label style="font-size:12px;color:#374151">Slot Interval</label>
          <input
            type="number"
            min="5"
            [(ngModel)]="sch.slot_interval"
            style="width:100%;padding:8px;border-radius:8px;border:1px solid #d1d5db"
          />
        </div>

      </div>

      <!-- REMOVE -->
      <div style="margin-top:10px;text-align:right">
        <button
          type="button"
          (click)="removeSchedule(i)"
          style="color:#dc2626;background:none;border:none;font-size:13px"
        >
          Remove
        </button>
      </div>

    </div>

    <!-- ADD DAY -->
    <button
      type="button"
      (click)="addSchedule()"
      style="margin-bottom:20px;color:#2563eb;background:none;border:none;font-size:14px"
    >
      + Add Another Day
    </button>

    <!-- SUBMIT -->
    <div style="text-align:right">
      <button
        (click)="submit()"
        [disabled]="loading"
        style="
          padding:10px 22px;
          background:#2563eb;
          color:white;
          border:none;
          border-radius:8px;
          font-weight:500
        "
      >
        {{ loading ? 'Saving...' : 'Save Schedule' }}
      </button>
    </div>

  </div>
</div>
